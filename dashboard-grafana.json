{
  "id": null,
  "uid": "jsds",
  "title": "PPDM â€“ Activities & Backup Health",
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 3,
  "refresh": "1m",
  "panels": [
    {
      "type": "stat",
      "title": "Total Activities",
      "gridPos": { "x": 0, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "refId": "A",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[*]",
          "fields": [
            { "name": "id", "jsonPath": "$.id", "type": "string" }
          ]
        }
      ],
      "options": {
        "reduceOptions": { "calcs": ["count"] },
        "colorMode": "background",
        "graphMode": "none"
      },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "fixed", "fixedColor": "blue" }
        }
      }
    },
    {
      "type": "stat",
      "title": "Jobs OK",
      "gridPos": { "x": 6, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "refId": "B",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[?(@.result.status=='OK')]",
          "fields": [
            { "name": "id", "jsonPath": "$.id", "type": "string" }
          ]
        }
      ],
      "options": {
        "reduceOptions": { "calcs": ["count"] },
        "colorMode": "background",
        "graphMode": "none"
      },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "fixed", "fixedColor": "green" }
        }
      }
    },
    {
      "type": "stat",
      "title": "Jobs Failed / Error",
      "gridPos": { "x": 12, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "refId": "C",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[?(@.result.status=='FAILED' || @.result.status=='ERROR')]",
          "fields": [
            { "name": "id", "jsonPath": "$.id", "type": "string" }
          ]
        }
      ],
      "options": {
        "reduceOptions": { "calcs": ["count"] },
        "colorMode": "background",
        "graphMode": "none"
      },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "fixed", "fixedColor": "red" }
        }
      }
    },
    {
      "type": "stat",
      "title": "Jobs Warning",
      "gridPos": { "x": 18, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "refId": "W",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[?(@.result.status=='WARNING')]",
          "fields": [
            { "name": "id", "jsonPath": "$.id", "type": "string" }
          ]
        }
      ],
      "options": {
        "reduceOptions": { "calcs": ["count"] },
        "colorMode": "background",
        "graphMode": "none"
      },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "fixed", "fixedColor": "yellow" }
        }
      }
    },
    {
      "type": "timeseries",
      "title": "Job Duration",
      "gridPos": { "x": 0, "y": 4, "w": 12, "h": 6 },
      "targets": [
        {
          "refId": "D",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[*]",
          "fields": [
            { "name": "startTime", "jsonPath": "$.startTime", "type": "time" },
            { "name": "duration", "jsonPath": "$.duration", "type": "number" }
          ]
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "startTime" },
            "properties": [
              { "id": "custom.hideFrom", "value": { "legend": true, "tooltip": true, "viz": false } }
            ]
          }
        ]
      }
    },
    {
      "type": "timeseries",
      "title": "Bytes Transferred",
      "gridPos": { "x": 12, "y": 4, "w": 12, "h": 6 },
      "targets": [
        {
          "refId": "E",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[*]",
          "fields": [
            { "name": "startTime", "jsonPath": "$.startTime", "type": "time" },
            { "name": "bytesTransferred", "jsonPath": "$.stats.bytesTransferred", "type": "number" }
          ]
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "decbytes"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "startTime" },
            "properties": [
              { "id": "custom.hideFrom", "value": { "legend": true, "tooltip": true, "viz": false } }
            ]
          }
        ]
      }
    },
    {
      "type": "table",
      "title": "Activity Details",
      "gridPos": { "x": 0, "y": 10, "w": 24, "h": 10 },
      "targets": [
        {
          "refId": "F",
          "datasource": { "uid": "dsjs" },
          "queryType": "json",
          "rootSelector": "$.content[*]",
          "fields": [
            { "name": "Name",       "jsonPath": "$.name",                    "type": "string" },
            { "name": "Category",   "jsonPath": "$.category",                "type": "string" },
            { "name": "Status",     "jsonPath": "$.result.status",           "type": "string" },
            { "name": "State",      "jsonPath": "$.state",                   "type": "string" },
            { "name": "Start",      "jsonPath": "$.startTime",               "type": "time"   },
            { "name": "End",        "jsonPath": "$.endTime",                 "type": "time"   },
            { "name": "Duration",   "jsonPath": "$.duration",                "type": "number" },
            { "name": "Bytes",      "jsonPath": "$.stats.bytesTransferred",  "type": "number" }
          ]
        }
      ],
      "fieldConfig": {
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Duration" },
            "properties": [
              { "id": "unit", "value": "ms" }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "Bytes" },
            "properties": [
              { "id": "unit", "value": "decbytes" }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "Status" },
            "properties": [
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-text"
                }
              },
              {
                "id": "mappings",
                "value": [
                  { "type": "value", "options": { "OK":      { "color": "green", "text": "OK" } } },
                  { "type": "value", "options": { "FAILED":   { "color": "red",   "text": "FAILED" } } },
                  { "type": "value", "options": { "ERROR":    { "color": "red",   "text": "ERROR" } } },
                  { "type": "value", "options": { "WARNING":  { "color": "yellow","text": "WARNING" } } }
                ]
              }
            ]
          }
        ]
      },
      "options": {
        "showHeader": true,
        "sortBy": [
          { "displayName": "Start", "desc": true }
        ]
      }
    }
  ]
}
